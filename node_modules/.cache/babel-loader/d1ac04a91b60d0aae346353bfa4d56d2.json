{"ast":null,"code":"var _jsxFileName = \"/Users/ivanaradic/Documents/GitHub/P11 Kasa/-IvanaRadicP_11_26012022/kasa/src/utils/hooks/useFetch.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\n/**\n * useFetch hook\n * @param { string } url \n * @returns data from json file\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function useFetch(url) {\n  _s();\n\n  console.log(url);\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    if (!url) return;\n\n    const getData = () => {\n      fetch(url, {\n        headers: {\n          'Content-type': 'application/json',\n          'Accept': 'application/json'\n        }\n      }).then(function (response) {\n        if (response.ok) {\n          response.json().then(function (myJson) {\n            //console.log(myJson)\n            console.log('working');\n            setData(myJson);\n          });\n        } else {\n          console.log(response.status);\n          console.log('notworking');\n          const errorMsg = `${response.status} : ${response.statusText}`;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error\",\n            children: errorMsg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 28\n          }, this);\n        }\n      });\n    };\n\n    getData();\n  }, [url]);\n  return {\n    data\n  };\n}\n\n_s(useFetch, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");","map":{"version":3,"sources":["/Users/ivanaradic/Documents/GitHub/P11 Kasa/-IvanaRadicP_11_26012022/kasa/src/utils/hooks/useFetch.jsx"],"names":["useState","useEffect","useFetch","url","console","log","data","setData","getData","fetch","headers","then","response","ok","json","myJson","status","errorMsg","statusText"],"mappings":";;;AAEA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA;AACA;AACA;AACA;AACA;;;AAEA,OAAO,SAASC,QAAT,CAAkBC,GAAlB,EAAuB;AAAA;;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACI,QAAM,CAACG,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AAEZ,QAAI,CAACE,GAAL,EAAU;;AAEV,UAAMK,OAAO,GAAG,MAAM;AAClBC,MAAAA,KAAK,CAACN,GAAD,EACL;AAAEO,QAAAA,OAAO,EACL;AACI,0BAAgB,kBADpB;AAEI,oBAAW;AAFf;AADJ,OADK,CAAL,CAOCC,IAPD,CAOM,UAASC,QAAT,EAAmB;AACrB,YAAIA,QAAQ,CAACC,EAAb,EAAiB;AACbD,UAAAA,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAsB,UAASI,MAAT,EAAiB;AACnC;AACAX,YAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAE,YAAAA,OAAO,CAACQ,MAAD,CAAP;AACH,WAJD;AAKH,SAND,MAMO;AACHX,UAAAA,OAAO,CAACC,GAAR,CAAYO,QAAQ,CAACI,MAArB;AACAZ,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,gBAAMY,QAAQ,GAAI,GAAEL,QAAQ,CAACI,MAAO,MAAKJ,QAAQ,CAACM,UAAW,EAA7D;AACA,8BAAO;AAAK,YAAA,SAAS,EAAC,OAAf;AAAA,sBAAwBD;AAAxB;AAAA;AAAA;AAAA;AAAA,kBAAP;AACH;AACJ,OApBD;AAqBH,KAtBD;;AAuBAT,IAAAA,OAAO;AACV,GA5BQ,EA4BN,CAACL,GAAD,CA5BM,CAAT;AA8BA,SAAO;AAAEG,IAAAA;AAAF,GAAP;AACH;;GAnCeJ,Q","sourcesContent":["\n\nimport { useState, useEffect } from \"react\"\n\n/**\n * useFetch hook\n * @param { string } url \n * @returns data from json file\n */\n\nexport function useFetch(url) {\nconsole.log(url)\n    const [data, setData] = useState([])  \n\n    useEffect(() => {\n\n        if (!url) return\n\n        const getData = () => {\n            fetch(url,\n            { headers : \n                {\n                    'Content-type': 'application/json',\n                    'Accept' : 'application/json'\n                }\n            })\n            .then(function(response) {\n                if (response.ok) {\n                    response.json().then( function(myJson) {\n                        //console.log(myJson)\n                        console.log('working')\n                        setData(myJson)\n                    })\n                } else {\n                    console.log(response.status)\n                    console.log('notworking')\n                    const errorMsg = `${response.status} : ${response.statusText}`\n                    return <div className='error'>{errorMsg}</div>\n                }\n            })\n        }\n        getData()\n    }, [url])\n\n    return { data }\n}"]},"metadata":{},"sourceType":"module"}